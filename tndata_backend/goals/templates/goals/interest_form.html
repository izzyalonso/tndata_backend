{% extends "goals/base.html" %}

{% block content %}
<h1>{% if object %}Interest: {{object.name}}{% else %}Create Interest{% endif %}</h1>

<div class="row">
  <div class="large-6 small-12 columns">
    <form action="{% if object %}{{ object.get_update_url }}{% else %}{% url 'goals:interest-create' %}{% endif %}" method="post">{% csrf_token %}
    {{ form }}
    <hr/>
    <button type="submit">Create Interest</button>
    </form>
  </div>
  <div class="large-6 small-12 columns">
    <table>
      <caption>Existing Interests</caption>
      <thead>
        <tr><th>Order</th><th>Name</th><th>Categories</th></tr>
      </thead>
      <tbody>
      {% for int in interests %}
        <tr>
          <td>{{ int.order }}</td>
          <td>{{ int.name }}</td>
          <td>
            {% for c in int.categories.all %}
              {{c}}{% if not forloop.last %}<br/>{% endif %}
            {% empty %}
              <em>None</em>
            {% endfor %}
          </td>
        </tr>
      {% endfor %}
      </tbody>
    </table>
  </div>
</div>
{% endblock %}
